<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Text-Based RPG Game</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="login-container">
    <h1>Login to RPG Game</h1>
    <div>
        <label for="username">Username:</label>
        <input type="text" id="username" placeholder="Enter username" autocomplete="username">
    </div>
    <div>
        <label for="password">Password:</label>
        <input type="password" id="password" placeholder="Enter password" autocomplete="current-password">
    </div>
    <button onclick="login()">Login</button>
    <button onclick="register()">Register</button>
    <button onclick="showDeleteContainer()">Delete Account</button>
  </div>
  <div id="top-right">
    <div id="coins" style="display: none;">${player.coins}</div>
  </div>
  <div id="game-container" style="display: none;">
    <h1 id="player-name"></h1>
    <button onclick="logout()">Logout</button>
    <button onclick="showHistory()">History</button>
   
    <div class="bar">
        <div class="bar-container">
            <div class="bar-item">
                <span class="bar-label" id="hp-label">HP: ${player.life}/${player.maxLife}</span>
            </div>
            <div id="health-bar-container">
                <div id="health-bar"></div>
            </div>
        </div>
        <div class="bar-container">
            <div class="bar-item">
                <span class="bar-label" id="mana-label">Mana: ${player.mana}/${player.maxMana}</span>
            </div>
            <div id="mana-bar-container">
                <div id="mana-bar"></div>
            </div>
        </div>
        <div class="bar-container">
            <div class="bar-item">
                <span class="bar-label" id="exp-label">EXP: ${player.xp}/${player.xpToNextLevel}</span>
            </div>
            <div id="exp-bar-container">
                <div id="exp-bar"></div>
            </div>  
        </div>
    </div>
    <div class="attributes-container">
        <div class="box">
            <img src="https://static.vecteezy.com/system/resources/previews/045/040/595/non_2x/hand-drawn-cartoon-bloody-sword-png.png" alt="HP Icon" class="hp-icon">
        </div>
        <div class="box">
            <img src="https://cdn.pixabay.com/photo/2023/11/20/10/41/brain-8400805_1280.png" alt="Mana Icon" class="mana-icon">
        </div>
        <div class="box">
            <img src="https://cdn-icons-png.freepik.com/512/4230/4230875.png" alt="EXP Icon" class="exp-icon">
        </div>
        <div class="box" id="strength"></div>
        <div class="box" id="speed"></div>
        <div class="box" id="intelligence"></div>
    </div>

    <div id="story"></div>
    <div id="stats-container">
        <div class="accordion-section">
            <div class="section-title" onclick="toggleSection('general')">General</div>
            <div class="accordion-content" id="general">
                <div class="stat"><span class="stat-title">Level:</span> <span class="stat-value">${player.level}</span></div>
                <div class="stat"><span class="stat-title">XP:</span> <span class="stat-value">${player.xp}/${player.xpToNextLevel}</span></div>
                <div class="stat"><span class="stat-title">Life:</span> <span class="stat-value">${player.life}/${player.maxLife}</span></div>
                <div class="stat"><span class="stat-title">Mana:</span> <span class="stat-value">${player.mana}/${player.maxMana}</span></div>
                <div class="stat"><span class="stat-title">Stamina:</span> <span class="stat-value">${player.stamina}/${player.maxStamina}</span></div>
                <div class="stat"><span class="stat-title">Age:</span> <span class="stat-value">${player.age}/${player.maxAge}</span></div>
                <div class="stat"><span class="stat-title">Time Left:</span> <span class="stat-value">${player.remainingDays} days and ${player.remainingHours} hours</span></div>
            </div>
        </div>
        <div class="accordion-section">
            <div class="section-title" onclick="toggleSection('achievements')">Achievements</div>
            <div class="accordion-content" id="achievements">
                <div class="stat"><span class="stat-title">Treasures:</span> <span class="stat-value">${player.treasures.length}</span></div>
                <div class="stat"><span class="stat-title">Enemies Defeated:</span> <span class="stat-value">${player.enemiesDefeated}/${player.enemiesToDefeat}</span></div>
            </div>
        </div>
    </div>
    <div id="commands">
      <input type="text" id="command-input" placeholder="Enter command...">
      <button onclick="processCommand()" id="execute-button">Execute</button>
    </div>
    <div id="common-commands">
      <button class="common-command" onclick="executeCommonCommand('explore')">Explore</button>
      <button class="common-command" onclick="executeCommonCommand('rest')">Rest</button>
      <button class="common-command" onclick="executeCommonCommand('fight')">Fight</button>
      <button class="common-command" onclick="executeCommonCommand('run')">Run</button>
      <button class="common-command" onclick="executeCommonCommand('heal')">Heal</button>
      <button class="common-command" onclick="executeCommonCommand('meditate')">Meditate</button>
      <button class="common-command" onclick="executeCommonCommand('upgrade')">Upgrade Status</button>
      <button class="common-command" onclick="executeCommonCommand('sell')">Sell Treasures</button>
      <button class="common-command" onclick="executeCommonCommand('shop')">Shop</button>
    </div>
  </div>
  <div id="death-container" style="display: none;">
    <h1 style="color: red;">You are dead!</h1>
    <button onclick="playAgain()">Play Again</button>
  </div>
  <div id="history-container" style="display: none;">
    <h1>Player History</h1>
    <div id="history"></div>
    <button onclick="hideHistory()">Back to Game</button>
  </div>
  <div id="shop" style="display: none;">
    <h2>Shop</h2>
    <ul id="shop-items">
      <!-- Los artículos se agregarán aquí dinámicamente -->
    </ul>
    <button onclick="closeShop()">Close Shop</button>
  </div> 
  <div id="inventory">
    <h3>Inventory:</h3>
    <ul id="inventory-display">
        <!-- Los artículos comprados se mostrarán aquí -->
    </ul>
  </div> 
  <div id="delete-container" style="display: none;">
    <h1>Delete Account</h1>
    <div id="delete-controls">
      <input type="text" id="delete-username" placeholder="Enter username to delete">
      <button onclick="deleteAccount()">Delete Account</button>
    </div>
    <div id="status"></div>
    <button onclick="hideDeleteContainer()">Back to Login</button>
  </div>
  <script src="logic/logic.js"></script>
  <script src="logic/funcionality.js"></script>
  <script src="logic/fight.js"></script>
  <script src="logic/shop.js"></script>
</body>
</html>